<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dark Mode Testing</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .test-panel {
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
    }
    
    .test-results {
      white-space: pre-wrap;
      font-family: monospace;
      background-color: #f5f5f5;
      padding: 15px;
      border-radius: 4px;
      max-height: 400px;
      overflow-y: auto;
    }
    
    .test-controls {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }
    
    button {
      padding: 8px 16px;
      background-color: #0070f3;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    
    button:hover {
      background-color: #0060df;
    }
    
    .component-preview {
      margin-top: 30px;
      border-top: 1px solid #eaeaea;
      padding-top: 20px;
    }
    
    .component-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .component-card {
      border: 1px solid #eaeaea;
      border-radius: 8px;
      padding: 15px;
    }
    
    .dark {
      background-color: #121212;
      color: #e0e0e0;
    }
    
    .dark .test-results {
      background-color: #2a2a2a;
      color: #e0e0e0;
    }
    
    .dark .component-card {
      border-color: #333;
    }
    
    .dark button {
      background-color: #0060df;
    }
    
    .dark button:hover {
      background-color: #0050cf;
    }
  </style>
</head>
<body>
  <h1>Dark Mode Testing Tool</h1>
  
  <div class="test-panel">
    <h2>Test Controls</h2>
    <div class="test-controls">
      <button id="toggle-theme">Toggle Theme</button>
      <button id="run-tests">Run All Tests</button>
      <button id="test-toggle">Test Theme Toggle</button>
      <button id="test-contrast">Test Contrast Ratios</button>
      <button id="test-consistency">Test Consistency</button>
    </div>
    
    <h3>Test Results</h3>
    <div id="test-results" class="test-results">Results will appear here...</div>
  </div>
  
  <div class="component-preview">
    <h2>Component Preview</h2>
    <p>This section shows common components for visual inspection in both light and dark modes.</p>
    
    <div class="component-grid">
      <div class="component-card">
        <h3>Button Component</h3>
        <button>Primary Button</button>
        <button style="background-color: #6b7280; margin-top: 10px;">Secondary Button</button>
      </div>
      
      <div class="component-card">
        <h3>Text Component</h3>
        <p>This is a paragraph of text that should be readable in both light and dark modes.</p>
        <p><a href="#">This is a link</a> within a paragraph.</p>
      </div>
      
      <div class="component-card">
        <h3>Form Component</h3>
        <form>
          <div style="margin-bottom: 15px;">
            <label for="name" style="display: block; margin-bottom: 5px;">Name:</label>
            <input type="text" id="name" style="padding: 8px; width: 100%; border: 1px solid #ccc; border-radius: 4px;">
          </div>
          <div style="margin-bottom: 15px;">
            <label for="email" style="display: block; margin-bottom: 5px;">Email:</label>
            <input type="email" id="email" style="padding: 8px; width: 100%; border: 1px solid #ccc; border-radius: 4px;">
          </div>
        </form>
      </div>
      
      <div class="component-card">
        <h3>Card Component</h3>
        <div style="border: 1px solid #eaeaea; border-radius: 8px; padding: 15px; margin-top: 10px;">
          <h4>Card Title</h4>
          <p>This is content inside a card component.</p>
        </div>
      </div>
    </div>
  </div>
  
  <script src="dark-mode-test.js"></script>
  <script>
    // Initialize console output capture
    const testResults = document.getElementById('test-results');
    const originalConsoleLog = console.log;
    const originalConsoleError = console.error;
    
    console.log = function() {
      const args = Array.from(arguments);
      originalConsoleLog.apply(console, args);
      testResults.textContent += args.join(' ') + '\n';
    };
    
    console.error = function() {
      const args = Array.from(arguments);
      originalConsoleError.apply(console, args);
      testResults.textContent += 'ERROR: ' + args.join(' ') + '\n';
    };
    
    // Theme toggle functionality
    const toggleThemeButton = document.getElementById('toggle-theme');
    toggleThemeButton.addEventListener('click', () => {
      document.body.classList.toggle('dark');
      const isDark = document.body.classList.contains('dark');
      toggleThemeButton.textContent = isDark ? 'Switch to Light Mode' : 'Switch to Dark Mode';
      console.log(`Switched to ${isDark ? 'dark' : 'light'} mode`);
    });
    
    // Test buttons
    document.getElementById('run-tests').addEventListener('click', () => {
      testResults.textContent = '';
      runDarkModeTests();
    });
    
    document.getElementById('test-toggle').addEventListener('click', () => {
      testResults.textContent = '';
      testThemeToggle();
    });
    
    document.getElementById('test-contrast').addEventListener('click', () => {
      testResults.textContent = '';
      testContrastRatios();
    });
    
    document.getElementById('test-consistency').addEventListener('click', () => {
      testResults.textContent = '';
      testDarkModeConsistency();
    });
  </script>
</body>
</html>